<div class="main-container">
  <mat-card class="main-card">
    <mat-card-header>
      <mat-card-title>Introductions</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-horizontal-stepper #stepper [contentEditable]="true">
        <ng-template matStepperIcon="edit">
          <span class="material-icons">
            done
          </span>
        </ng-template>
        <ng-template matStepperIcon="done">
          <span class="material-icons">
            done
          </span>
        </ng-template>
        <mat-step label="HOW TO: Compute Plans">

          <p>To compute a new plan, you have to click the <span style="font-weight: bold">New Plan</span> button in the navigation bar:</p>

          <p>
            This opens a new view on the right.
            Here you can select the goals for the next iteration.
            In the top you can see the global goals. These goals have to be satisfied by all plans and are
            automatically included.
          </p>

          <p>
            You start the plan computation with the button in the bottom right corner.
            To compute the plan can take some time.
          </p>

          <p>
            When the computation finished, a new plan will appear in the navigation bar.
          </p>

            <p>The middle column provides you the following information:</p>

            <mat-list>
              <mat-list-item>
                The goals you selected.
              </mat-list-item>
              <mat-list-item>
                The properties which are additionally satisfied by the plan.
              </mat-list-item>
              <mat-list-item>
                The overall utility of the plan.
              </mat-list-item>
              <mat-list-item>
                The properties which are not satisfied by the plan.
              </mat-list-item>
            </mat-list>

          <p>In the left column you can play an animation of the plan.</p>

        </mat-step>
        <mat-step label="HOW TO: Ask Questions" *ngIf="canUseQuestions">

          <p>
            To ask a question you can click the <span style="font-weight: bold">Ask Question </span>.
            This opens the question view.
          </p>

          <img src="assets/screenshots/question-selected.png" style="height: 400px; width: auto; padding: 20px 0">

          <p>
            You can ask questions of the structure: "Why not A?".
            Where A is a property, which is currently not satisfied by the plan.
          </p>

          <p>
            By pressing the button in the bottom you start the computation of the answer.
          </p>

          <p>There are different possible answers:</p>

          <mat-list>
            <mat-list-item>
              There is no reason, why the property is not satisfied. The system then answers you:
              "There exists a plan which satisfies the properties in your question."
            </mat-list-item>
            <mat-list-item>
              It is not possible to satisfy the property in your question. The system then answers:
              "There is no plan which satisfies this properties.
              All global goals and the properties in the question can not be satisfied together."
            </mat-list-item>
            <mat-list-item>
              The property in your questions can be satisfied, if you give up at least you of the selected goals.
              The system the tells you which goals you have to give up.
            </mat-list-item>
          </mat-list>

          <p>The following two pictures give some example questions and answers.</p>

          <div style="display: flex; flex-direction: row; justify-content: space-evenly">
            <img src="assets/screenshots/answer-mugs.png" style="height: 400px; width: auto; padding: 20px 0">
            <img src="assets/screenshots/answer.png" style="height: 300px; width: auto; padding: 20px 0">
          </div>

          <p>
            If the properties you selected can not be satisfied you can only ask one question: "Why?"
            The system answers your question by showing you which properties can not be satisfied together.
          </p>

        </mat-step>
        <mat-step label="HOW TO: Finish">

          <p>
            If you think you found the best plan (highest utility) possible you can leave the task with the
            <span style="font-weight: bold">Finish</span> button.
          </p>


        </mat-step>
      </mat-horizontal-stepper>

    </mat-card-content>

    <mat-card-actions style="width: 100%">
      <div class="button-box">
        <!--        <button #nextButton mat-flat-button class='skip-button' (click)="nextStep()" >Skip</button>-->
        <button mat-icon-button (click)="goBack(stepper)" [disabled]="stepper.selectedIndex === 0" class="step-button">
          <mat-icon>keyboard_arrow_left</mat-icon>
        </button>
        <button  mat-icon-button (click)="goForward(stepper)"
                 [disabled]="stepper.selectedIndex === this.numSteps - 1" class="step-button">
          <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
        <button #startButton mat-flat-button color="primary" (click)="nextStep()"
                [disabled]="stepper.selectedIndex !== this.numSteps - 1 && ! seenEverything">Start</button>
      </div>
    </mat-card-actions>

  </mat-card>
</div>
