
  <mat-card class="card-style">
    <mat-card-header style="display: flex; justify-content: space-between;">
      <mat-card-title>New Plan</mat-card-title>
      <button mat-icon-button (click)="abortWithoutPlan()">
        <mat-icon>close</mat-icon>
      </button>
    </mat-card-header>

    <mat-card-content>
      <div class="header-container">
        <h1 style="margin: 20px 20px;">Global hard-goals: </h1>
      </div>
      <mat-list *ngIf="hasGlobalHardGoals">
        <ng-container *ngFor="let item of planProperties">
          <mat-list-item *ngIf="item.globalHardGoal">
            <p matLine> {{item.naturalLanguageDescription}} </p>
            <p matLine *ngIf="(settingsService.getSelectedObject() | async).usePlanPropertyValues"> Utility: {{item.value}} </p>
          </mat-list-item>
        </ng-container>
      </mat-list>
      <h2 *ngIf="! hasGlobalHardGoals" style="margin-left: 30px;">There are no global hard-goals.</h2>

      <div class="header-container">
        <h1 style="margin: 20px 20px;">Select additional hard goals: </h1>
      </div>
      <mat-selection-list [(ngModel)]="selectedGoalFacts" (selectionChange)="checkComplete()">
        <ng-container *ngFor="let item of planProperties">
          <mat-list-option *ngIf="! item.globalHardGoal" [value]=item checkboxPosition="before">
            <p matLine> {{item.naturalLanguageDescription}} </p>
            <p matLine *ngIf="(settingsService.getSelectedObject() | async).usePlanPropertyValues"> Utility: {{item.value}} </p>
          </mat-list-option>
        </ng-container>
      </mat-selection-list>
    </mat-card-content>
    <mat-card-actions [align]="'end'">
      <button mat-flat-button color="accent" class="add-button" (click)="computePlan()" [disabled]="! completed">
        Compute Plan
      </button>
    </mat-card-actions>
  </mat-card>
